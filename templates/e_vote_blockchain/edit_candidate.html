{% extends 'layouts/layout_b.html' %}
{% load widget_tweaks %}

{% block content %}

<div class="bg-gradient-to-tr from-blue-100 via-blue-50 to-white flex items-center justify-center">
  <div class="max-w-3xl w-full bg-white rounded-2xl shadow-xl border border-gray-200 p-10 space-y-10">

    <div class="text-center">
      <h2 class="text-4xl font-extrabold text-gray-800 mb-2">‚úèÔ∏è Edit Candidate</h2>
      <p class="text-gray-500 text-lg">Updating: <strong>{{ candidate.name }}</strong></p>
    </div>

    <!-- Candidate Image, centered -->
    <div class="flex justify-center">
      <img 
        src="{{ candidate.image.url }}" 
        alt="Candidate Image" 
        class="w-48 h-48 object-cover rounded-full border-4 border-blue-300 shadow-lg"
      />
    </div>

    <form method="POST" enctype="multipart/form-data" class="space-y-8 animate-fade-in-down">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_image">Image</label>
        {{ form.image|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.image.errors }}</p>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_election">Election</label>
        {{ form.election|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.election.errors }}</p>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_election">Position</label>
        {{ form.role|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.role.errors }}</p>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_name">Name</label>
        {{ form.name|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.name.errors }}</p>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_party">Party</label>
        {{ form.party|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.party.errors }}</p>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-2" for="id_description">Description</label>
        {{ form.description|add_class:"w-full rounded-md border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition" }}
        <p class="text-sm text-red-600 mt-1">{{ form.description.errors }}</p>
      </div>

      <div class="flex justify-center">
        <button type="submit" 
          class="py-4 px-16 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl shadow-md transform hover:scale-105 transition duration-300">
          üíæ Update Candidate
        </button>
      </div>

    </form>

  </div>
</div>

{% endblock %}
